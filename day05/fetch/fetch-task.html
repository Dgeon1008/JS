<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fetch-실습</title>
</head>
<body>
  <ul id="ul">
  </ul>
  <div id="div"></div>
</body>
<script>
  // https://jsonplaceholder.typicode.com/users
  // 실습 : fetch를 통해 데이터를 요청 후 가져온 데이터 중
  // name만 화면에 ul -> li 태그로 출력하기
  // const ul = document.getElementById("ul")

  // fetch("https://jsonplaceholder.typicode.com/users")
  //   .then((response) => response.json()) 
  //   .then((users) => {
  //     users.forEach((user) => {
  //       const li = document.createElement("li"); 
  //       li.innerText = user.username; 
  //       ul.appendChild(li);
  //     });
  //   })

// ===================================================
//   const ul = document.querySelector("#result")

// fetch("https://jsonplaceholder.typicode.com/users")
//   .then((response) => response.json())
//   .then((users) => users.map((user) => user.name))
//   .then((names) => {
//     names.forEach((name) => {
//       // ul.innerHTML += `<li>${name}</li>`
//       const li = document.createElement("li")
//       li.innerText = name;
//       ul.appendChild(li)
//     })
//   }) // 참조형
//   .catch(console.err)


// https://jsonplaceholder.typicode.com/todos


// completed 할일이 완료된 true 데이터 중 앞에서 부터 10개만 가져와서
// title을 출력하기
//만약 completed true면 title출력
// const div1 = document.getElementById("div");

//   fetch("https://jsonplaceholder.typicode.com/todos")
//     .then((response) => response.json())
//     .then((todos) => {
//       todos.filter(todo => todo.completed === true)
//           .slice(0, 10)
//           .forEach(todo => {
//             const div2 = document.createElement("div");
//             div2.innerText = todo.title;
//             div1.appendChild(div2);
//           })
//     })
//===================================================================
// 한번엥 다때려박지말고 하나씩써보자
  fetch("https://jsonplaceholder.typicode.com/todos", {})
    .then((response) => response.json())
    .then((todos) => todos.filter((todo, i, todos) => todo.completed))
    .then((todos) => todos.slice(0, 10))
    .then((todos) => todos.map((todo, i, todos) => todo.title))
    .then((todos) => console.log(todos))
    .catch((err) => console.error(err))

</script>
</html>